<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Usage &mdash; SSA2py 1.0 documentation</title>
      <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Example Applications" href="applications.html" />
    <link rel="prev" title="Configuration" href="configuration.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="index.html" class="icon icon-home"> SSA2py
            <img src="_static/logo.jpg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Getting Started</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="basic_info.html">Basic Info</a></li>
<li class="toctree-l1"><a class="reference internal" href="methodology.html">SSA2py Workflow</a></li>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Start Using SSA2py</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="configuration.html">Configuration</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#terminal-setup">Terminal Setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="#usage-examples">Usage Examples</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#execute-ssa2py-for-new-events">Execute SSA2py for new events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#repeat-the-computation">Repeat the computation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#listen-for-upcoming-events">Listen for upcoming events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#analyze-non-cataloged-events">Analyze non-cataloged events</a></li>
<li class="toctree-l3"><a class="reference internal" href="#cron-job-examples">Cron Job Examples</a></li>
<li class="toctree-l3"><a class="reference internal" href="#help-screen">Help Screen</a></li>
<li class="toctree-l3"><a class="reference internal" href="#extra-comments">Extra Comments</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="applications.html">Example Applications</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">More Info</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="publ_list.html">Publications List</a></li>
<li class="toctree-l1"><a class="reference internal" href="news.html">SSA2py News</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">SSA2py</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
      <li>Usage</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/usage.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="usage">
<h1>Usage<a class="headerlink" href="#usage" title="Permalink to this headline"></a></h1>
<div class='Usage'><section id="terminal-setup">
<h2>Terminal Setup<a class="headerlink" href="#terminal-setup" title="Permalink to this headline"></a></h2>
<p>Enter the SSA2py directory:</p>
<p><code class="docutils literal notranslate"><span class="pre">cd</span> <span class="pre">SSA2py</span></code></p>
<p>Enable the execution flag to SSA2py.py (only needed once):</p>
<p><code class="docutils literal notranslate"><span class="pre">chmod</span> <span class="pre">+x</span> <span class="pre">./SSA2py.py</span></code></p>
<p>Run the program:</p>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span></code></p>
<p>However you can run without execution flag enabled:</p>
<p><code class="docutils literal notranslate"><span class="pre">python3</span> <span class="pre">./SSA2py.py</span></code></p>
</section>
<section id="usage-examples">
<h2>Usage Examples<a class="headerlink" href="#usage-examples" title="Permalink to this headline"></a></h2>
<p>Before you do anything else make sure that the configuration file is calibrated based to your needs.
You can find more details about the configuration <a class="reference external" href="configuration.html">here</a>.</p>
<section id="execute-ssa2py-for-new-events">
<h3>Execute SSA2py for new events<a class="headerlink" href="#execute-ssa2py-for-new-events" title="Permalink to this headline"></a></h3>
<p>In this subsection you can find examples that could help you understand the terminal-based philosophy
of SSA2py.</p>
<p><strong>Examples</strong></p>
<ol class="arabic simple">
<li><p>Calculate SSA for a single event (info about the event retrieved from FDSNWS-event).</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">noa2019gfqmt</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Analyze the event (<strong>-e</strong>) with id noa2020diego (from FDSNWS-event service).</p></li>
<li><p>Use the configuration file (<strong>-c</strong>) with the name config.yaml.</p></li>
</ul>
<ol class="arabic simple" start="2">
<li><p>Calculate SSA for two events and define a new log file.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">noa2020diego</span> <span class="pre">-e</span> <span class="pre">noa2019gfqmt</span> <span class="pre">-l</span> <span class="pre">new_log</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Analyze the events (<strong>-e</strong>) with ids noa2020diego, noa2021asfg (from FDSNWS-event service).</p></li>
<li><p>Use the configuration file (<strong>-c</strong>) config.yaml.</p></li>
<li><p>Bypass the default log file path (<strong>-l</strong>) (./log) and use another one (new_log).</p></li>
</ul>
<ol class="arabic simple" start="3">
<li><p>Calculate SSA for all the events found in a datetime range (info about the events retrieved from FDSNWS-event).</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">--datetime-range</span> <span class="pre">2018-01-01T00:00:00</span> <span class="pre">2019-01-01T00:00:00</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Analyze all the events in the timerange (<strong>- - datetime-range</strong>) between 2018-01-01T00:00:00 and 2019-01-01T00:00:00. Restrictions about the events (e.g. Magnitude) are set to the configuration file.</p></li>
<li><p>Use the configuration file (<strong>-c</strong>) with the name config.yaml.</p></li>
</ul>
<ol class="arabic simple" start="4">
<li><p>Calculate SSA for a single event (without FDSNWS-event).</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config_new.yaml</span> <span class="pre">-e</span> <span class="pre">2021-04-25T15:13:39</span> <span class="pre">3.0</span> <span class="pre">ML</span> <span class="pre">37.24</span> <span class="pre">20.49</span> <span class="pre">4.1</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Use the configuration file (<strong>-c</strong>) config_new.yaml</p></li>
<li><p>The events information (<strong>-e</strong>) are given manualy (datetime, magnitude, magnitude type, latitude, longitude, depth)</p></li>
</ul>
<ol class="arabic simple" start="5">
<li><p>Calculate SSA for a seismic catalog described in QuakeML format file.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">--event-xml</span> <span class="pre">./catalog.xml</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>The events information (<strong>- - event-xml</strong>) are taken from the catalog.xml file.</p></li>
</ul>
<ol class="arabic simple" start="6">
<li><p>Calculate SSA for a seismic catalog in plain text.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">--event-file</span> <span class="pre">./catalog.txt</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>The events information (<strong>- - event-file</strong>) are taken from the catalog.txt file. Each line of the file can have an event_id or the description as in example 4.</p></li>
</ul>
<ol class="arabic simple" start="7">
<li><p>Calculate SSA for a single event (with FDSNWS-event) removing stations from the procedure.</p></li>
</ol>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">noa2020diego</span> <span class="pre">-s</span> <span class="pre">KLV</span> <span class="pre">ATH.Z</span> <span class="pre">--remove</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Execute the event (<strong>-e</strong>) with id noa2020diego.</p></li>
<li><p>Select stations/components (<strong>-s</strong>) KLV (all the components) and ATH.Z (only the vertical component) and remove them (<strong>- - remove</strong>).</p></li>
</ul>
</section>
<section id="repeat-the-computation">
<h3>Repeat the computation<a class="headerlink" href="#repeat-the-computation" title="Permalink to this headline"></a></h3>
<p>SSA2py offers the possibility to repeat the SSA computation quickly by removing stations/components
or even changing the configuration in order to improve the quality of the results. The user with the repeat mode (<strong>- - repeat</strong>)
can get away with the time consuming download part of wavefroms/metadata and the calculation of traveltime tables.</p>
<p><strong>Example</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">noa2020diego</span> <span class="pre">--repeat</span> <span class="pre">-s</span> <span class="pre">KLV</span> <span class="pre">ATH.Z</span> <span class="pre">--remove</span></code></p>
<p>Command analysis:</p>
<ul class="simple">
<li><p>Execute the event (<strong>-e</strong>) with id noa2020diego.</p></li>
<li><p>Repeat the procedure (<strong>- - repeat</strong>) selecting stations/components (<strong>-s</strong>) KLV (all the components) and ATH.Z (only the vertical component) and remove them (<strong>- - remove</strong>).</p></li>
</ul>
</section>
<section id="listen-for-upcoming-events">
<h3>Listen for upcoming events<a class="headerlink" href="#listen-for-upcoming-events" title="Permalink to this headline"></a></h3>
<p>The below command needs to be combined with a tool such as the <a class="reference external" href="https://en.wikipedia.org/wiki/Cron">cron</a> utility to matters.</p>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">--real-time</span></code></p>
</section>
<section id="analyze-non-cataloged-events">
<h3>Analyze non-cataloged events<a class="headerlink" href="#analyze-non-cataloged-events" title="Permalink to this headline"></a></h3>
<p>SSA2py primarily focuses on analyzing cataloged seismic events. Nevertheless, users have the flexibility to handle seismic data of an agnostic nature through the manual
execution mode in SSA2py and using some dummy imputs.</p>
<p><strong>Example</strong></p>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">2021-04-25T15:13:39</span> <span class="pre">3.0</span> <span class="pre">ML</span> <span class="pre">37.24</span> <span class="pre">20.49</span> <span class="pre">4.1</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">-e</span> <span class="pre">--scanning</span> <span class="pre">start</span> <span class="pre">time--</span> <span class="pre">--dummy</span> <span class="pre">magnitude--</span> <span class="pre">ML</span> <span class="pre">--central</span> <span class="pre">grid</span> <span class="pre">latitude--</span> <span class="pre">--central</span> <span class="pre">grid</span> <span class="pre">longitude--</span> <span class="pre">--dummy</span> <span class="pre">depth--</span></code></p>
<p>Of cource you also have to tune the duration of scanning based on your preference the duration of scanning throught the configuration file.</p>
</section>
<section id="cron-job-examples">
<h3>Cron Job Examples<a class="headerlink" href="#cron-job-examples" title="Permalink to this headline"></a></h3>
<p>Every minute listen to an FDSNWS-event for new incoming events.</p>
<p><code class="docutils literal notranslate"><span class="pre">SHELL=/bin/bash</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">*</span> <span class="pre">source</span> <span class="pre">/home/.bash_profile;</span> <span class="pre">cd</span> <span class="pre">/home/SSA2py;</span> <span class="pre">python3</span> <span class="pre">./SSA2py.py</span> <span class="pre">-c</span> <span class="pre">config.yaml</span> <span class="pre">--real-time;</span></code></p>
</section>
<section id="help-screen">
<h3>Help Screen<a class="headerlink" href="#help-screen" title="Permalink to this headline"></a></h3>
<p>You can see the help screen with the commands:</p>
<ul class="simple">
<li><p>Simply type <code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">./SSA2py.py</span> <span class="pre">-h</span></code></p></li>
</ul>
<p>░██████╗░██████╗░█████╗░██████╗░██████╗░██╗░░░██╗
██╔════╝██╔════╝██╔══██╗╚════██╗██╔══██╗╚██╗░██╔╝
╚█████╗░╚█████╗░███████║░░███╔═╝██████╔╝░╚████╔╝░
░╚═══██╗░╚═══██╗██╔══██║██╔══╝░░██╔═══╝░░░╚██╔╝░░
██████╔╝██████╔╝██║░░██║███████╗██║░░░░░░░░██║░░░
╚═════╝░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░░░░░░░╚═╝░░░
SSA2PY: Source Scanning Algorithm in Python</p>
<p>Version: 1.0</p>
<p>License: GPLv3</p>
<p>Author: Ioannis Fountoulakis (<a class="reference external" href="mailto:ifountoul&#37;&#52;&#48;noa&#46;gr">ifountoul<span>&#64;</span>noa<span>&#46;</span>gr</a>)</p>
<p>Credits: Ioannis Fountoulakis (<a class="reference external" href="mailto:ifountoul&#37;&#52;&#48;noa&#46;gr">ifountoul<span>&#64;</span>noa<span>&#46;</span>gr</a>), Christos Evangelidis
(<a class="reference external" href="mailto:cevan&#37;&#52;&#48;noa&#46;gr">cevan<span>&#64;</span>noa<span>&#46;</span>gr</a>)</p>
<p>🄯 2023, Institute of Geodynamics - National Observatory of Athens</p>
<dl class="simple">
<dt>usage: SSA2PY [-h] [-c [FILEPATH]] [-e EVENT [EVENT …]] [–event-file FILEPATH]</dt><dd><p>[–event-xml FILEPATH] [–real-time] [-d TIME TIME] [-s STA[.NEZ]
[STA[.NEZ] …]] [–repeat] [–remove] [–disable-quality] [–download]
[-l [FILEPATH]] [-v]</p>
</dd>
</dl>
<p>SSA2py: Source Scanning Algorithm in Python</p>
<p>Find more info at:</p>
<p>optional arguments:</p>
<p><code class="docutils literal notranslate"><span class="pre">-h,</span> <span class="pre">--help</span></code> show this help message and exit</p>
<p><code class="docutils literal notranslate"><span class="pre">-c</span> <span class="pre">[FILEPATH],</span> <span class="pre">--config</span> <span class="pre">[FILEPATH]</span></code> default configuration file (config.yaml)</p>
<p><code class="docutils literal notranslate"><span class="pre">-e</span> <span class="pre">EVENT</span> <span class="pre">[EVENT</span> <span class="pre">...],</span> <span class="pre">--event</span> <span class="pre">EVENT</span> <span class="pre">[EVENT</span> <span class="pre">...]</span></code> EVENT can be in any of the following formats: (i) DATETIME
MAGNITUDE TYPE LATITUDE LONGITUDE DEPTH e.g.: /home/john/Projects/SSA2PY/./SSA2PY.py -e 2022-04-28T09:03:22.933595 3.0 ML 37.24 20.49 4.1 (ii) DATETIME
e.g.: /home/john/Projects/SSA2PY/./SSA2PY.py -e 2022-04-28T09:03:22.933599 (iii) EVENTID (event identifiers are data center specific) e.g.:
/home/john/Projects/SSA2PY/./SSA2PY.py -e noa2020owyrp In cases (ii) and (iii) the rest of the information is retrieved by the FDSNWS-event In more than one results, only the first event is
returned Passing milliseconds is optional.</p>
<p><code class="docutils literal notranslate"><span class="pre">--event-file</span> <span class="pre">FILEPATH</span></code> parse and run a file with EVENT lines</p>
<p><code class="docutils literal notranslate"><span class="pre">--event-xml</span> <span class="pre">FILEPATH</span></code>  parse and run a file in QuakeML</p>
<p><code class="docutils literal notranslate"><span class="pre">--real-time</span></code> invoke –datetime-range for real-time use (FDSN bounded)</p>
<p><code class="docutils literal notranslate"><span class="pre">-d</span> <span class="pre">TIME</span> <span class="pre">TIME,</span> <span class="pre">--datetime-range</span> <span class="pre">TIME</span> <span class="pre">TIME</span></code> invoke SSA computation for all events found in specific datetime range (FDSN bounded)</p>
<dl class="simple">
<dt><code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">STA[.NEZ]</span> <span class="pre">[STA[.NEZ]</span> <span class="pre">...],</span> <span class="pre">--station</span> <span class="pre">STA[.NEZ]</span> <span class="pre">[STA[.NEZ]</span> <span class="pre">...]</span></code> override default stations selection. Optionally, components could be also specified.</dt><dd><p>It can be combined with –remove for the reverse result</p>
</dd>
</dl>
<p><code class="docutils literal notranslate"><span class="pre">--repeat</span></code> run again the SSA. Suggested to use -s to choose or exclude stations</p>
<p><code class="docutils literal notranslate"><span class="pre">--remove</span></code> it can only be used with –station. Invokes reverse result</p>
<p><code class="docutils literal notranslate"><span class="pre">--download</span></code> download Faults and Tectonic Plates</p>
<p><code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">[FILEPATH],</span> <span class="pre">--log</span> <span class="pre">[FILEPATH]</span></code> override default main log file (./log)</p>
<p><code class="docutils literal notranslate"><span class="pre">-v,</span> <span class="pre">--version</span></code>  show program’s version number and exit</p>
</section>
<section id="extra-comments">
<h3>Extra Comments<a class="headerlink" href="#extra-comments" title="Permalink to this headline"></a></h3>
<ul class="simple">
<li><p>Some of the commands can be triggered in long and in short mode (e.g. <code class="docutils literal notranslate"><span class="pre">-e</span></code> or <code class="docutils literal notranslate"><span class="pre">--event</span></code>).</p></li>
<li><p>Event commands (<code class="docutils literal notranslate"><span class="pre">--event</span></code>, <code class="docutils literal notranslate"><span class="pre">--event-xml</span></code>, <code class="docutils literal notranslate"><span class="pre">--event-file</span></code>, <code class="docutils literal notranslate"><span class="pre">--datetime-range</span></code>) can be combined together.</p></li>
<li><p>The Station command <code class="docutils literal notranslate"><span class="pre">--station</span></code> can be used multiple times and can be inverted by attaching the <code class="docutils literal notranslate"><span class="pre">--remove</span></code>.</p></li>
<li><p>You can use multiple simultaneous cron-jobs in order to run different configuration files. This could be useful if you want to run different setups based on (i) regions,  (ii) quality (sparse/dense 4D SSA grid search), (iii) event catalog (FDSNWS-event service).</p></li>
</ul>
</div></section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="configuration.html" class="btn btn-neutral float-left" title="Configuration" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="applications.html" class="btn btn-neutral float-right" title="Example Applications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, National Observatory of Athens, Institute of Geodynamics.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>